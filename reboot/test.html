<!DOCTYPE html>
<html lang="kr" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <title>노예 계약서 - Slavery Contract Form</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
      crossorigin="anonymous"
    />
    <script
      src="https://code.jquery.com/jquery-3.6.4.min.js"
      integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8="
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <div class="red-bar">
      <img src="고수.jpg" />족부트 로그인페이지<img src="고수.jpg" />
    </div>

    <style>
      @keyframes grow {
        from {
          transform: scaleX(0);
        }
        to {
          transform: scaleX(1);
        }
      }
      .red-bar {
        color: blue;
        background-color: aqua;
        overflow: auto;
        position: -webkit-sticky;
        position: sticky;
        top: 0;
        padding: 10px 5px;
        text-align: center;
      }
      img {
        width: 130px;
        height: 150px;
        object-fit: cover;
        text-align: left;
      }
    </style>
    <h3>노예 계약서 - Slavery Contract Form</h3>
    <form action="/join" role="form" method="post" th:object="${joinDto}">
      <div class="form-group">
        <label th:for="email">이메일주소</label>
        <input
          type="email"
          th:field="*{email}"
          class="form-control"
          placeholder="이메일을 입력해주세요"
          id="email"
        />
        <p
          th:if="${#fields.hasErrors('email')}"
          th:errors="*{email}"
          class="fieldError"
          th:style="'color:red'"
        >
          Incorrect data
        </p>
      </div>
      <div class="form-group">
        <label th:for="password">비밀번호</label>
        <input
          type="password"
          th:field="*{password}"
          class="form-control"
          placeholder="비밀번호 입력"
          id="pass"
        />
        <p
          th:if="${#fields.hasErrors('password')}"
          th:errors="*{password}"
          class="fieldError"
          th:style="'color:red'"
        >
          Incorrect data
        </p>
      </div>
      <div class="form-group">
        <label th:for="name">이름</label>
        <input
          type="text"
          th:field="*{name}"
          class="form-control"
          placeholder="이름을 입력해주세요"
          id="name"
        />
        <p
          th:if="${#fields.hasErrors('name')}"
          th:errors="*{name}"
          class="fieldError"
          th:style="'color:red'"
        >
          Incorrect data
        </p>
      </div>
      <div style="text-align: center">
        <button
          type="submit"
          class="btn btn-primary"
          style="background: white; color: blue"
        >
          노예계약하기
        </button>
      </div>
      <!--<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">-->

      <script>
        $("form").on("submit", function (e) {
          if (
            $("#email").val() == "" ||
            $("#pass").val() == "" ||
            $("#pass").val().length < 6 ||
            $("#name").val() == ""
          ) {
            e.preventDefault();
            alert("아디비번이 공백이거나 비번이 6글자미만임");
          }
        });
      </script>
      <th:block layout:fragment="script">
        <script th:inline="javascript">
            $(document).ready(function(){
            var errorMessage = [[${errorMessage}]];
            if(errorMessage != null){
                alert(errorMessage);
            }
          });
        </script>
      </th:block>
    </form>
  </body>
</html>
